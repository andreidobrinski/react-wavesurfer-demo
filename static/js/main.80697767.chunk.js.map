{"version":3,"sources":["piano.mp3","waveform.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","WaveSurferWrap","styled","div","_templateObject","Waveform","_ref","audio","containerRef","useRef","waveSurferRef","isPlaying","_useState","useState","_useState2","Object","slicedToArray","toggleIsPlaying","useEffect","waveSurfer","WaveSurfer","create","container","current","responsive","barWidth","barHeight","cursorWidth","load","on","destroy","react_default","a","createElement","onClick","playPause","type","index_esm","size","ref","Link","App_templateObject","App","style","padding","waveform","pianoClip","marginTop","href","ReactDOM","render","src_App","document","getElementById"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,2eCMxC,IA6CMC,EAAiBC,IAAOC,IAAVC,KAeLC,EA5DE,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACZC,EAAeC,mBACfC,EAAgBD,iBAAO,CAC3BE,UAAW,kBAAM,KAHWC,EAKOC,oBAAS,GALhBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAKvBD,EALuBG,EAAA,GAKZG,EALYH,EAAA,GAyB9B,OAlBAI,oBAAU,WACR,IAAMC,EAAaC,IAAWC,OAAO,CACnCC,UAAWd,EAAae,QACxBC,YAAY,EACZC,SAAU,EACVC,UAAW,GACXC,YAAa,IAOf,OALAR,EAAWS,KAAKrB,GAChBY,EAAWU,GAAG,QAAS,WACrBnB,EAAca,QAAUJ,IAGnB,WACLA,EAAWW,YAEZ,CAACvB,IAGFwB,EAAAC,EAAAC,cAAChC,EAAD,KACE8B,EAAAC,EAAAC,cAAA,UACEC,QAAS,WACPxB,EAAca,QAAQY,YACtBlB,EAAgBP,EAAca,QAAQZ,cAExCyB,KAAK,UAEJzB,EAAYoB,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAeC,KAAK,QAAWP,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAcC,KAAK,SAEjEP,EAAAC,EAAAC,cAAA,OAAKM,IAAK/B,uaCrChB,IAwBMgC,EAAOtC,IAAO8B,EAAVS,KAiBKC,EAzCH,WACV,OACEX,EAAAC,EAAAC,cAAA,QAAMU,MAAO,CAAEC,QAAS,SACtBb,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACY,EAAD,CAAUtC,MAAOuC,MACjBf,EAAAC,EAAAC,cAAA,UAAQU,MAAO,CAAEI,UAAW,SAC1BhB,EAAAC,EAAAC,cAAA,mBAEG,IACDF,EAAAC,EAAAC,cAACO,EAAD,CAAMQ,KAAK,+BAAX,qBAEFjB,EAAAC,EAAAC,cAAA,yBACG,IACDF,EAAAC,EAAAC,cAACO,EAAD,CAAMQ,KAAK,sGAAX,YACC,IAHH,MAKG,IACDjB,EAAAC,EAAAC,cAACO,EAAD,CAAMQ,KAAK,wFAAX,oBCjBVC,IAASC,OAAOnB,EAAAC,EAAAC,cAACkB,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.80697767.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/piano.7d93b7db.mp3\";","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport WaveSurfer from 'wavesurfer.js';\nimport styled from 'styled-components';\nimport { FaPlayCircle, FaPauseCircle } from 'react-icons/fa';\n\nconst Waveform = ({ audio }) => {\n  const containerRef = useRef();\n  const waveSurferRef = useRef({\n    isPlaying: () => false,\n  });\n  const [isPlaying, toggleIsPlaying] = useState(false);\n\n  useEffect(() => {\n    const waveSurfer = WaveSurfer.create({\n      container: containerRef.current,\n      responsive: true,\n      barWidth: 2,\n      barHeight: 10,\n      cursorWidth: 0,\n    });\n    waveSurfer.load(audio);\n    waveSurfer.on('ready', () => {\n      waveSurferRef.current = waveSurfer;\n    });\n\n    return () => {\n      waveSurfer.destroy();\n    };\n  }, [audio]);\n\n  return (\n    <WaveSurferWrap>\n      <button\n        onClick={() => {\n          waveSurferRef.current.playPause();\n          toggleIsPlaying(waveSurferRef.current.isPlaying());\n        }}\n        type=\"button\"\n      >\n        {isPlaying ? <FaPauseCircle size=\"3em\" /> : <FaPlayCircle size=\"3em\" />}\n      </button>\n      <div ref={containerRef} />\n    </WaveSurferWrap>\n  );\n};\n\nWaveform.propTypes = {\n  audio: PropTypes.string.isRequired,\n};\n\nconst WaveSurferWrap = styled.div`\n  display: grid;\n  grid-template-columns: 40px 1fr;\n  align-items: center;\n\n  button {\n    width: 40px;\n    height: 40px;\n    border: none;\n    padding: 0;\n    background-color: white;\n  }\n`;\n\n\nexport default Waveform;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Waveform from './waveform';\nimport pianoClip from './piano.mp3';\n\nconst App = () => {\n  return (\n    <main style={{ padding: '16px' }}>\n      <h1>WaveSurfer Demo</h1>\n      <Waveform audio={pianoClip} />\n      <footer style={{ marginTop: '32px' }}>\n        <p>\n          Made by\n          {' '}\n          <Link href=\"https://andreidobrinski.com\">Andrei Dobrinski</Link>\n        </p>\n        <p>Check out the\n          {' '}\n          <Link href=\"https://andreidobrinski.com/blog/implementing-an-audio-waveform-with-react-hooks-and-wavesurferjs/\">tutorial</Link>\n          {' '}\n          and\n          {' '}\n          <Link href=\"https://github.com/andreidobrinski/react-wavesurfer-demo/blob/master/src/waveform.js\">source code.</Link>\n        </p>\n      </footer>\n    </main>\n  );\n}\n\nconst Link = styled.a`\n  --primary: #61dbff;\n  color: rgba(0, 0, 0, 0.9);\n  text-decoration: none;\n  padding: 0 1px;\n  box-shadow: inset 0 -6px 0 0 var(--primary);\n  transition: box-shadow 0.3s ease-in;\n\n  &:hover {\n    box-shadow: inset 0 -40px 0 0 var(--primary);\n  }\n\n  &:active {\n    box-shadow: inset 0 -40px 0 0 var(--primary);\n  }\n`;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}